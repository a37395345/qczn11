var inputID_1 = "paiche_startMinute";
var selectID_1 = "select_startMinute";
var inputID_2 = "paiche_endMinute";
var selectID_2 = "select_endMinute";
var widt = 0;
var inputWi = 0;
var he = 0;
$(function() {
    widt = 100;
    inputWi = widt - 20;
    he = $("#user").height() - 41;
    $("#" + selectID_1).change(function() {
        var newvar = $("#" + selectID_1).find("option:selected").text();
        $("#" + inputID_1).val(newvar);
    }).click(function() {
        $("#select_div_on_key" + selectID_1).remove();
    }).css({ "display": "inline-block", "width": widt + "px" });
 
    $("#" + inputID_1).keyup(function() {
        ShowSelectCombo();
    }).click(function() {
        ShowSelectCombo();
    }).css({ "z-index": 2, "width": inputWi + "px" }); ;
    
    widt = 100;
    inputWi = widt - 20;
    he = $("#user").height() - 41;
    $("#" + selectID_2).change(function() {
        var newvar = $("#" + selectID_2).find("option:selected").text();
        $("#" + inputID_2).val(newvar);
    }).click(function() {
        $("#select_div_on_key" + selectID_2).remove();
    }).css({ "display": "inline-block", "width": widt + "px" });
 
    $("#" + inputID_2).keyup(function() {
        ShowSelectCombo2();
    }).click(function() {
        ShowSelectCombo2();
    }).css({ "z-index": 2, "width": inputWi + "px" }); ;
    
});
function ShowSelectCombo() {
    var pob = $("#" + inputID_1);
    var v = pob.val();
    var off = pob.offset();
    var wi = pob.width() + 16;
    var tp = off.top + pob.height() - 100 + 7;
    var lef = off.left - 200 + 2;
    var html = "<div class='select_div_list' id='select_div_on_key" + selectID_1 + "' style='width:" + wi + "px;top:" + tp + "px;left:" + lef + "px;'><ul class='select_div_list_ul'>";
    $("#" + selectID_1).find("option").each(function() {
        var tk = $(this);
        html += "<li val='" + tk.val() + "' ht='" + encodeURIComponent(tk.html()) + "'>" + tk.html().replace(v, "<span class='selectSPAN'>" + v + "</span>") + "</li>";
    });
    html += "</ul></div>";
    var ulDIV = $("#select_div_on_key" + selectID_1);
    ulDIV.remove();
    $("#user").append(html);
    var ulDIV = $("#select_div_on_key" + selectID_1);
    var hei = ulDIV.find("ul").height();
        var newHeight = hei > he ? he : hei;
  
        ulDIV.css({ height: newHeight + "px" });
    ulDIV.find("li").hover(function() {
        $(this).css({ "background-color": "#316ac5" });
    }, function() {
        $(this).css({ "background-color": "white" });
    });
    ulDIV.find("li").click(function() {
        var ki = $(this);
        var va = ki.attr("val");
        var htm = ki.attr("ht");
        htm = decodeURIComponent(htm);
        $("#" + inputID_1).val(htm);
        $("#" + selectID_1).val(va);
        ulDIV.remove();
    });
}
function ShowSelectCombo2() {
    var pob = $("#" + inputID_2);
    var v = pob.val();
    var off = pob.offset();
    var wi = pob.width() + 16;
    var tp = off.top + pob.height() - 100 + 7;
    var lef = off.left - 200 + 2;
    var html = "<div class='select_div_list' id='select_div_on_key" + selectID_2 + "' style='width:" + wi + "px;top:" + tp + "px;left:" + lef + "px;'><ul class='select_div_list_ul'>";
    $("#" + selectID_2).find("option").each(function() {
        var tk = $(this);
        html += "<li val='" + tk.val() + "' ht='" + encodeURIComponent(tk.html()) + "'>" + tk.html().replace(v, "<span class='selectSPAN'>" + v + "</span>") + "</li>";
    });
    html += "</ul></div>";
    var ulDIV = $("#select_div_on_key" + selectID_2);
    ulDIV.remove();
    $("#user").append(html);
    var ulDIV = $("#select_div_on_key" + selectID_2);
    var hei = ulDIV.find("ul").height();
        var newHeight = hei > he ? he : hei;
  
        ulDIV.css({ height: newHeight + "px" });
    ulDIV.find("li").hover(function() {
        $(this).css({ "background-color": "#316ac5" });
    }, function() {
        $(this).css({ "background-color": "white" });
    });
    ulDIV.find("li").click(function() {
        var ki = $(this);
        var va = ki.attr("val");
        var htm = ki.attr("ht");
        htm = decodeURIComponent(htm);
        $("#" + inputID_2).val(htm);
        $("#" + selectID_2).val(va);
        ulDIV.remove();
    });
}